"use strict";angular.module("akat-form-creator",["ngLodash","textAngular","ngTagsInput"]),angular.module("akat-form-creator").directive("elembox",["$compile",function(a){return{templateUrl:"submodules/akat-form-creator/elements/box/elembox.html",replace:!0,restrict:"E",scope:!1,link:function(a,b,c){var d=JSON.parse(c.datas);b.parent().addClass(d["class"])}}}]),angular.module("akat-form-creator").directive("elemboxarray",["$compile","lodash","$timeout",function(a,b,c){return{templateUrl:"submodules/akat-form-creator/elements/boxarray/boxarray.html",replace:!0,restrict:"E",scope:{model:"="},link:function(c,d,e){function f(a){a&&(d.empty(),b.each(b.range(c.keysize),g))}function g(b){h.subfields.forEach(function(e,f){var g=angular.element("<"+e.type+" />");g.attr("datas",JSON.stringify(e)),g.attr("model",'model["'+h.name+'"]['+b+"]");var i=a(g)(c);e.panel&&d.addClass("panel panel-default"),d.append(i)},this)}var h=JSON.parse(e.datas);c.subfields=h.subfields,b.set(c,'model["'+h.name+'"]',[{}]),c.keysize=c.model[h.name].length,c.$watch("keysize",f),c.addElement=function(){c.model[h.name].push({}),++c.keysize},c.removeElement=function(a){delete c.model[h.name][a],--c.keysize},d.parent().addClass(h["class"])}}}]),angular.module("akat-form-creator").directive("elemcheckbox",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/checkbox/checkbox.html",link:function(a,b,c,d){a.directiveOptions=JSON.parse(c.datas),b.addClass(a.directiveOptions["class"])}}}),angular.module("akat-form-creator").directive("elemdatepicker",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/datepicker/datepicker.html",link:function(a,b,c,d){function e(a){var b=a.date,c=a.mode;return"day"===c&&(0===b.getDay()||6===b.getDay())}function f(b){var c=b.date,d=b.mode;if("day"===d)for(var e=new Date(c).setHours(0,0,0,0),f=0;f<a.events.length;f++){var g=new Date(a.events[f].date).setHours(0,0,0,0);if(e===g)return a.events[f].status}return""}a.directiveOptions=JSON.parse(c.datas),a.init=function(){console.log("initialize datepicker default options"),a.today(),a.toggleMin(),a.inlineOptions={customClass:f,minDate:new Date,showWeeks:!0},a.dateOptions={dateDisabled:e,formatYear:"yy",maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1};var b=new Date;b.setDate(b.getDate()+1);var c=new Date;c.setDate(b.getDate()+1),a.events=[{date:b,status:"full"},{date:c,status:"partially"}],a.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],a.format=a.formats[0],a.altInputFormats=["M!/d!/yyyy"]},a.today=function(){a.dt=new Date},a.clear=function(){a.dt=null},a.toggleMin=function(){a.inlineOptions.minDate=a.inlineOptions.minDate?null:new Date,a.dateOptions.minDate=a.inlineOptions.minDate},a.open1=function(){a.popup1.opened=!0},a.open2=function(){a.popup2.opened=!0},a.setDate=function(b,c,d){a.dt=new Date(b,c,d)},a.popup1={opened:!1},a.popup2={opened:!1},b.addClass(a.directiveOptions["class"])}}}),angular.module("akat-form-creator").directive("elememail",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/email/email.html",link:function(a,b,c){a.directiveOptions=JSON.parse(c.datas),b.addClass(a.directiveOptions["class"])}}}),angular.module("akat-form-creator").directive("dynform",function(){return{templateUrl:"submodules/akat-form-creator/elements/form.html",restrict:"E",replace:!0,scope:{structure:"=",model:"="}}}),angular.module("akat-form-creator").directive("formobjects",["$compile",function(a){return{templateUrl:"submodules/akat-form-creator/elements/formobjects.html",restrict:"E",replace:!0,scope:{options:"=",model:"=",id:"="},link:function(b,c,d){function e(d,f){angular.isDefined(f.fields)&&(c.append(a("<div class='subfields'></div>")(b)),f.fields.forEach(function(f){var g=angular.element("<"+f.type+" />");g.attr("datas",JSON.stringify(f)),g.attr("parent",d),g.attr("model",'model["'+d+'"]');var h=a(g)(b);c.parent().find(".subfields").append(h),e(f.name,f)}))}var f=angular.element("<"+b.options.type+" />");f.attr("datas",JSON.stringify(b.options)),f.attr("parent",!1),f.attr("model","model");var g=a(f)(b);b.options.panel&&c.addClass("panel panel-default"),c.append(g),e(b.options.name,b.options)}}}]),angular.module("akat-form-creator").directive("elempassword",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/password/password.html",link:function(a,b,c){a.directiveOptions=JSON.parse(c.datas),b.addClass(a.directiveOptions["class"])}}}),angular.module("akat-form-creator").directive("elemradio",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/radio/radio.html",link:function(a,b,c){a.directiveOptions=JSON.parse(c.datas),b.addClass(a.directiveOptions["class"])}}}),angular.module("akat-form-creator").directive("elemrichtext",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/richtext/richtext.html",link:function(a,b,c){a.directiveOptions=JSON.parse(c.datas),b.addClass(a.directiveOptions["class"])}}}),angular.module("akat-form-creator").directive("elemselectbox",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/selectbox/selectbox.html",link:function(a,b,c){a.directiveOptions=JSON.parse(c.datas),b.addClass(a.directiveOptions["class"])}}}),angular.module("akat-form-creator").directive("elemtabs",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/tabs/tabs.html",link:function(a,b,c,d){a.directiveOptions=JSON.parse(c.datas)}}}),angular.module("akat-form-creator").directive("elemtags",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/tags/tags.html",link:function(a,b,c){a.directiveOptions=JSON.parse(c.datas),b.addClass(a.directiveOptions["class"]),a.setData=function(a){return[{id:"1213",text:a}]}}}}),angular.module("akat-form-creator").directive("elemtextarea",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/textarea/textarea.html",link:function(a,b,c,d){a.directiveOptions=JSON.parse(c.datas),b.addClass(a.directiveOptions["class"])}}}),angular.module("akat-form-creator").directive("elemtextfield",function(){return{restrict:"E",replace:!0,scope:{model:"="},templateUrl:"submodules/akat-form-creator/elements/textfield/textfield.html",link:function(a,b,c,d){a.directiveOptions=JSON.parse(c.datas),b.addClass(a.directiveOptions["class"])}}}),angular.module("akat-form-creator").run(["$templateCache",function(a){a.put("submodules/akat-form-creator/elements/box/elembox.html",'<div class="box">\n    <h2>{{options.title}}</h2>\n</div>'),a.put("submodules/akat-form-creator/elements/boxarray/boxarray.html",'<div class="box subfields">\n    <h2>{{options.title}}</h2>\n</div>'),a.put("submodules/akat-form-creator/elements/checkbox/checkbox.html",'<div class="form-group" >\n    <label>{{directiveOptions.label}}</label>\n    <p class="input-group">\n    <input type="checkbox" name="{{directiveOptions.name}}"  ng-model="model[directiveOptions.name]" required=""> {{directiveOptions.text}}\n    </p>\n</div>'),a.put("submodules/akat-form-creator/elements/datepicker/datepicker.html",'<div class="form-group" ng-init="init()">\n    <label>{{directiveOptions.label}}</label>\n    <p class="input-group">\n         \n        <input type="text" class="form-control" name="{{directiveOptions.name}}" uib-datepicker-popup="{{format}}" ng-model="model[directiveOptions.name]" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />\n        <span class="input-group-btn">\n        <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>\n        </span>\n    </p>\n</div>'),a.put("submodules/akat-form-creator/elements/email/email.html",'<div class="form-group">\n    <label>{{directiveOptions.label}}</label>\n    <div class="input-group">\n        <span class="input-group-addon">@</span>\n        <input type="text" class="form-control" name="{{directiveOptions.name}}" placeholder="{{directiveOptions.placeholder}}" ng-model="model[directiveOptions.name]" >\n    </div>\n</div>'),a.put("submodules/akat-form-creator/elements/form.html",'    <form>\n        <div ng-repeat="formobj in structure.fields track by $index">\n            <formobjects options="formobj" model="model" id="$index"></formobjects>\n        </div>\n    </form>'),a.put("submodules/akat-form-creator/elements/formobjects.html",'<div class="row"></div>'),a.put("submodules/akat-form-creator/elements/password/password.html",'<div class="form-group" >\n    <label>{{directiveOptions.label}}</label>\n    <input type="password" name="{{directiveOptions.name}}"  class="form-control" ng-model="model[directiveOptions.name]" ng-value="directiveOptions.defaultvalue">\n</div>'),a.put("submodules/akat-form-creator/elements/radio/radio.html",'<div class="form-group" >\n    <label>{{directiveOptions.label}}</label>\n    <p class="input-group" ng-repeat="rad in directiveOptions.values">\n        <input type="radio" name="{{directiveOptions.name}}" ng-model="model[directiveOptions.name]" value="{{rad.value}}" required=""> {{rad.text}}\n    </p>\n</div>'),a.put("submodules/akat-form-creator/elements/richtext/richtext.html",'<div class="form-group" >\n    <label>{{directiveOptions.label}}</label>\n    <text-angular ng-model="model[directiveOptions.name]"></text-angular>\n</div>'),a.put("submodules/akat-form-creator/elements/selectbox/selectbox.html",'<div class="form-group" >\n    <label class="control-label">{{directiveOptions.label}}</label>\n    <select class="form-control"  ng-model="model[directiveOptions.name]" ng-options="item.name as item.value for item in directiveOptions.options" >\n    </select>\n</div>'),a.put("submodules/akat-form-creator/elements/tabs/tabs.html",'  <div>\n    <uib-tabset active="active">\n        <uib-tab index="$index + 1" ng-repeat="tab in directiveOptions.tabs" heading="{{tab.tabname}}">\n            <uib-tab-heading>{{tab.tabname}}</uib-tab-heading>\n            <formobjects options="tab" model="model"></formobjects>\n            <hr>\n        </uib-tab>\n    </uib-tabset>\n  </div>'),a.put("submodules/akat-form-creator/elements/tags/tags.html",'<div class="form-group" >\n    <label>{{directiveOptions.label}}</label>\n    <tags-input ng-model="model[directiveOptions.name]">\n        <auto-complete source="setData($query)"></auto-complete>\n    </tags-input>\n</div>'),a.put("submodules/akat-form-creator/elements/textarea/textarea.html",'<div class="form-group" >\n    <label>{{directiveOptions.label}}</label>\n    <textarea rows="4" name="{{directiveOptions.name}}" cols="50" ng-model="model[directiveOptions.name]"  class="form-control"></textarea>\n</div>'),a.put("submodules/akat-form-creator/elements/textfield/textfield.html",'<div class="form-group" >\n    <label>{{directiveOptions.label}}</label>\n    <input type="text" name="{{directiveOptions.name}}" class="form-control" ng-model="model[directiveOptions.name]" placeholder="{{directiveOptions.placeholder}}" required="">\n</div>\n\n')}]);